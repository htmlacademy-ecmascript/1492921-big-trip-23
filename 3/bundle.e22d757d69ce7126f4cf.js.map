{"version":3,"file":"bundle.e22d757d69ce7126f4cf.js","mappings":"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","sources":["webpack://big-trip/./src/render.js","webpack://big-trip/./src/model/data-model.js","webpack://big-trip/./src/utils/datetime.js","webpack://big-trip/./src/view/trip-info-view.js","webpack://big-trip/./src/view/sorting-view.js","webpack://big-trip/./src/view/point-view.js","webpack://big-trip/./src/view/edit-point-view.js","webpack://big-trip/./src/view/filters-view.js","webpack://big-trip/./src/main.js","webpack://big-trip/./src/presenter/main-presenter.js"],"sourcesContent":["const RenderPosition = {\n  BEFOREBEGIN: 'beforebegin',\n  AFTERBEGIN: 'afterbegin',\n  BEFOREEND: 'beforeend',\n  AFTEREND: 'afterend',\n};\n\nfunction createElement(template) {\n  const newElement = document.createElement('div');\n  newElement.innerHTML = template;\n\n  return newElement.firstElementChild;\n}\n\nfunction render(component, container, place = RenderPosition.BEFOREEND) {\n  container.insertAdjacentElement(place, component.getElement());\n}\n\nexport {RenderPosition, createElement, render};\n","const filterItems = ['Everything', 'Future', 'Present', 'Past'];\nconst sortItems = ['Day', 'Event', 'Time', 'Price', 'Offers'];\nconst eventTypeItems = ['Taxi', 'Bus', 'Train', 'Ship', 'Drive', 'Flight', 'Check-in', 'Sightseeing', 'Restaurant'];\nconst destinationItems = [\n  {name: 'Amsterdam', description: 'Geneva is a city in Switzerland that lies at the southern tip of expansive Lac Léman (Lake Geneva). Surrounded by the Alps and Jura mountains, the city has views of dramatic Mont Blanc.'},\n  {name: 'Geneva', description: ''},\n  {name: 'Chamonix', description: 'Chamonix-Mont-Blanc (usually shortened to Chamonix) is a resort area near the junction of France, Switzerland and Italy. At the base of Mont Blanc, the highest summit in the Alps, it\\'s renowned for its skiing.'}\n];\nconst offerItems = [\n  {code: 'luggage', name: 'Add luggage', price: 50},\n  {code: 'comfort', name: 'Switch to comfort', price: 80},\n  {code: 'meal', name: 'Add meal', price: 15},\n  {code: 'seats', name: 'Choose seats', price: 5},\n  {code: 'train', name: 'Travel by train', price: 40}\n];\n\nconst pointItems = [\n  {eventType: 'Taxi', destination: 'Amsterdam', timeStart: '2019-03-18T10:30', timeEnd: '2019-03-18T11:00', price: 20, offers: [{name: 'Order Uber', price:20}], favorite: true},\n  {eventType: 'Drive', destination: 'Chamonix', timeStart: '2019-03-18T14:30', timeEnd: '2019-03-18T16:05', price: 160, offers: [{name: 'Rent a car', price:200}], favorite: true},\n  {eventType: 'Flight', destination: 'Geneva', timeStart: '2019-03-19T18:00', timeEnd: '2019-03-19T19:00', price: 20, offers: [{name: 'Add luggage', price:30}, {name: 'Switch to comfort', price:100}], favorite: false},\n  {eventType: 'Sightseeing', destination: 'Geneva', timeStart: '2019-03-20T11:15', timeEnd: '2019-03-20T12:15', price: 180, offers: [], favorite: false}\n];\n\nconst getTripInfo = () => ({\n  points: Array.from(new Set(pointItems.map((item) => item.destination))),\n  dateTimeStart: pointItems[0].timeStart,\n  dateTimeEnd: pointItems[pointItems.length - 1].timeEnd,\n  cost: pointItems.reduce((cost, item) => cost + item.price + item.offers.reduce((sum, offer) => sum + offer.price, 0), 0)\n});\n\nexport {pointItems, filterItems, sortItems, eventTypeItems, destinationItems, offerItems};\nexport {getTripInfo};\n","const getDateTime = (dateTime) => {\n  const dateTimeString = new Date(dateTime).toLocaleString('ru-RU');\n  const monthString = new Date(dateTime).toLocaleDateString('en-US', {month: 'short'}).toUpperCase();\n  const [date, time] = dateTimeString.split(', ');\n  const [day, month, year] = date.split('.');\n  const [hours, minutes, seconds] = time.split(':');\n  return {day, month, year, hours, minutes, seconds, monthString};\n};\n\nconst getDateISOString = (dateTime) => {\n  const {day, month, year} = getDateTime(dateTime);\n  return `${year}-${month}-${day}`;\n};\n\nconst getDateTimeISOString = (dateTime) => {\n  const {day, month, year, hours, minutes} = getDateTime(dateTime);\n  return `${year}-${month}-${day}T${hours}:${minutes}`;\n};\n\nconst getMonthString = (dateTime) => getDateTime(dateTime).monthString;\nconst getDayString = (dateTime) => getDateTime(dateTime).day;\n\nconst getMonthDayString = (dateTime) => {\n  const {day, monthString} = getDateTime(dateTime);\n  return `${monthString} ${day}`;\n};\n\nconst getTimeString = (dateTime) => {\n  const {hours, minutes} = getDateTime(dateTime);\n  return `${hours}:${minutes}`;\n};\nconst getDateTimeString = (dateTime) => {\n  const {day, month, year, hours, minutes} = getDateTime(dateTime);\n  return `${day}/${month}/${year.slice(2, 4)} ${hours}:${minutes}`;\n};\n\nconst getDurationTimeString = (timeStart, timeEnd) => {\n  if (getDateISOString(timeStart) !== getDateISOString(timeEnd)) {\n    throw 'Начало и окончание одного события должно быть в один день!';\n  }\n  const timeDucation = new Date(new Date(timeEnd) - new Date(timeStart));\n  const timeDurationHours = `${timeDucation.toISOString().substring(11, 13)}H `;\n  const timeDurationMinute = `${timeDucation.toISOString().substring(14, 16)}M`;\n  return `${timeDurationHours === '00H ' ? '' : timeDurationHours}${timeDurationMinute}`;\n};\n\nexport {getDateISOString, getDateTimeISOString, getMonthDayString, getMonthString, getDayString};\nexport {getTimeString, getDateTimeString, getDurationTimeString};\n\n","import {createElement} from '../render.js';\nimport {getDayString, getMonthString} from '@utils/datetime.js';\n\nconst tripInfoTemplate = ({trip, period, cost}) => `\n  <section class=\"trip-main__trip-info  trip-info\">\n    <div class=\"trip-info__main\">\n      <h1 class=\"trip-info__title\">${trip}</h1>\n      <p class=\"trip-info__dates\">${period}</p>\n    </div>\n    <p class=\"trip-info__cost\">\n      Total: &euro;&nbsp;<span class=\"trip-info__cost-value\">${cost}</span>\n    </p>\n  </section>`;\n\nexport default class TripInfoView {\n  constructor({points, dateTimeStart, dateTimeEnd, cost}) {\n    const startMonth = getMonthString(dateTimeStart);\n    const startDay = getDayString(dateTimeStart);\n    const endMonth = getMonthString(dateTimeEnd);\n    const endDay = getDayString(dateTimeEnd);\n    this.tripInfo = {\n      trip: points.join(' &mdash; '),\n      period: `${startDay}${startMonth === endMonth ? '' : `&nbsp;${startMonth}`}&nbsp;&mdash;&nbsp;${endDay}&nbsp;${endMonth}`,\n      cost: cost\n    };\n  }\n\n  getTemplate = () => tripInfoTemplate(this.tripInfo);\n\n  getElement = () => {\n    if (!this.element) {\n      this.element = createElement(this.getTemplate());\n    }\n    return this.element;\n  };\n\n  removeElement = () => {\n    this.element = null;\n  };\n}\n","import {createElement} from '../render.js';\n\nconst sortItemTemplate = (name) => {\n  const nameLower = name.toLowerCase();\n  return `\n    <div class=\"trip-sort__item  trip-sort__item--${nameLower}\">\n      <input id=\"sort-${nameLower}\" class=\"trip-sort__input  visually-hidden\" type=\"radio\" name=\"trip-sort\" value=\"sort-${nameLower}\">\n      <label class=\"trip-sort__btn\" for=\"sort-${nameLower}\">${name}</label>\n    </div>\n  `;\n};\n\nconst sortingTemplate = (items) => `\n  <form class=\"trip-events__trip-sort  trip-sort\" action=\"#\" method=\"get\">\n    ${items.map((item) => sortItemTemplate(item)).join('')}\n  </form>\n`;\n\nexport default class SortingView {\n  constructor(items) {\n    this.items = items;\n  }\n\n  getTemplate = () => sortingTemplate(this.items);\n\n  getElement = () => {\n    if (!this.element) {\n      this.element = createElement(this.getTemplate());\n    }\n    return this.element;\n  };\n\n  removeElement = () => {\n    this.element = null;\n  };\n}\n","import {createElement} from '../render.js';\nimport {getDateISOString, getDateTimeISOString, getDurationTimeString, getMonthDayString, getTimeString} from '@utils/datetime.js';\n\nconst offersItemTemplate = ({name, price}) => `\n  <li class=\"event__offer\">\n    <span class=\"event__offer-title\">${name}</span>\n    &plus;&euro;&nbsp;\n    <span class=\"event__offer-price\">${price}</span>\n  </li>\n`;\n\nconst offersTemplate = (items) => `\n  <h4 class=\"visually-hidden\">Offers:</h4>\n  <ul class=\"event__selected-offers\">\n    ${items.map((item) => offersItemTemplate(item)).join('')}\n  </ul>\n`;\nconst pointTemplate = ({eventType, destination, timeStart, timeEnd, price, offers, favorite}) => `\n  <li class=\"trip-events__item\">\n    <div class=\"event\">\n      <time class=\"event__date\" datetime=\"${getDateISOString(timeStart)}\">${getMonthDayString(timeStart)}</time>\n      <div class=\"event__type\">\n        <img class=\"event__type-icon\" width=\"42\" height=\"42\" src=\"img/icons/${eventType.toLowerCase()}.png\" alt=\"Event type icon\">\n      </div>\n      <h3 class=\"event__title\">${eventType} ${destination}</h3>\n      <div class=\"event__schedule\">\n        <p class=\"event__time\">\n          <time class=\"event__start-time\" datetime=\"${getDateTimeISOString(timeStart)}\">${getTimeString(timeStart)}</time>\n          &mdash;\n          <time class=\"event__end-time\" datetime=\"${getDateTimeISOString(timeEnd)}\">${getTimeString(timeEnd)}</time>\n        </p>\n        <p class=\"event__duration\">${getDurationTimeString(timeStart, timeEnd)}</p>\n      </div>\n      <p class=\"event__price\">\n        &euro;&nbsp;<span class=\"event__price-value\">${price}</span>\n      </p>\n      ${offersTemplate(offers)}\n      <button class=\"event__favorite-btn${favorite ? ' event__favorite-btn--active\"' : '\"'} type=\"button\">\n        <span class=\"visually-hidden\">Add to favorite</span>\n        <svg class=\"event__favorite-icon\" width=\"28\" height=\"28\" viewBox=\"0 0 28 28\">\n          <path d=\"M14 21l-8.22899 4.3262 1.57159-9.1631L.685209 9.67376 9.8855 8.33688 14 0l4.1145 8.33688 9.2003 1.33688-6.6574 6.48934 1.5716 9.1631L14 21z\"/>\n        </svg>\n      </button>\n      <button class=\"event__rollup-btn\" type=\"button\">\n        <span class=\"visually-hidden\">Open event</span>\n      </button>\n    </div>\n  </li>`;\n\nexport default class PointView {\n  constructor(point) {\n    this.point = point;\n  }\n\n  getTemplate = () => pointTemplate(this.point);\n\n  getElement = () => {\n    if (!this.element) {\n      this.element = createElement(this.getTemplate());\n    }\n    return this.element;\n  };\n\n  removeElement = () => {\n    this.element = null;\n  };\n}\n","import {createElement} from '../render.js';\nimport {getDateTimeString} from '@utils/datetime.js';\n\nconst eventTypeItemTemplate = (name) => {\n  const nameLower = name.toLowerCase();\n  return `<div class=\"event__type-item\">\n    <input id=\"event-type-${nameLower}-1\" class=\"event__type-input  visually-hidden\" type=\"radio\" name=\"event-type\" value=\"${nameLower}\">\n    <label class=\"event__type-label  event__type-label--${nameLower}\" for=\"event-type-${nameLower}-1\">${name}</label>\n  </div>`;\n};\n\nconst eventTypeListTemplate = (items) => `\n  <div class=\"event__type-list\">\n    <fieldset class=\"event__type-group\">\n      <legend class=\"visually-hidden\">Event type</legend>\n        ${items.map((item) => eventTypeItemTemplate(item)).join('')}\n    </fieldset>\n  </div>\n`;\n\nconst offersItemTemplate = ({code, name, price}, checked) => `\n  <div class=\"event__offer-selector\">\n    <input class=\"event__offer-checkbox  visually-hidden\" id=\"event-offer-${code}-1\" type=\"checkbox\" name=\"event-offer-${code}\" ${checked ? 'checked' : ''}>\n    <label class=\"event__offer-label\" for=\"event-offer-${code}-1\">\n      <span class=\"event__offer-title\">${name}</span>\n      &plus;&euro;&nbsp;\n      <span class=\"event__offer-price\">${price}</span>\n    </label>\n  </div>\n`;\n\nconst offersTemplate = (items, itemsChecked) => `\n  <section class=\"event__section  event__section--offers\">\n    <h3 class=\"event__section-title  event__section-title--offers\">Offers</h3>\n    <div class=\"event__available-offers\">\n      ${items.map((item) => offersItemTemplate(item, itemsChecked.find((element) => element.name === item.name) !== undefined)).join('')}\n    </div>\n  </section>\n`;\n\nconst descriptionTemplate = (destination, destinationList) => {\n  const description = destinationList.find((element) => element.name === destination).description;\n  if (description) {\n    return `\n      <section class=\"event__section  event__section--destination\">\n        <h3 class=\"event__section-title  event__section-title--destination\">Destination</h3>\n        <p class=\"event__destination-description\">${description}</p>\n      </section>`;\n  }\n  return '';\n};\n\nconst editPointTemplate = ({eventType, destination, timeStart, timeEnd, price, offers}, eventTypeList, destinationList, offersList) => `\n  <li class=\"trip-events__item\">\n    <form class=\"event event--edit\" action=\"#\" method=\"post\">\n      <header class=\"event__header\">\n        <div class=\"event__type-wrapper\">\n          <label class=\"event__type  event__type-btn\" for=\"event-type-toggle-1\">\n            <span class=\"visually-hidden\">Choose event type</span>\n            <img class=\"event__type-icon\" width=\"17\" height=\"17\" src=\"img/icons/${eventType.toLowerCase()}.png\" alt=\"Event type icon\">\n          </label>\n          <input class=\"event__type-toggle  visually-hidden\" id=\"event-type-toggle-1\" type=\"checkbox\">\n          ${eventTypeListTemplate(eventTypeList)}\n        </div>\n\n        <div class=\"event__field-group  event__field-group--destination\">\n          <label class=\"event__label  event__type-output\" for=\"event-destination-1\">\n            ${eventType}\n          </label>\n          <input class=\"event__input  event__input--destination\" id=\"event-destination-1\" type=\"text\" name=\"event-destination\" value=\"${destination}\" list=\"destination-list-1\">\n          <datalist id=\"destination-list-1\">\n            ${destinationList.map((item) => `<option value=\"${item.name}\"></option>`).join('')}\n          </datalist>\n        </div>\n\n        <div class=\"event__field-group  event__field-group--time\">\n          <label class=\"visually-hidden\" for=\"event-start-time-1\">From</label>\n          <input class=\"event__input  event__input--time\" id=\"event-start-time-1\" type=\"text\" name=\"event-start-time\" value=\"${getDateTimeString(timeStart)}\">\n          &mdash;\n          <label class=\"visually-hidden\" for=\"event-end-time-1\">To</label>\n          <input class=\"event__input  event__input--time\" id=\"event-end-time-1\" type=\"text\" name=\"event-start-time\" value=\"${getDateTimeString(timeEnd)}\">\n        </div>\n\n        <div class=\"event__field-group  event__field-group--price\">\n          <label class=\"event__label\" for=\"event-price-1\">\n            <span class=\"visually-hidden\">Price</span>\n            &euro;\n          </label>\n          <input class=\"event__input  event__input--price\" id=\"event-price-1\" type=\"text\" name=\"event-price\" value=\"${price}\">\n        </div>\n\n        <button class=\"event__save-btn  btn  btn--blue\" type=\"submit\">Save</button>\n        <button class=\"event__reset-btn\" type=\"reset\">Delete</button>\n        <button class=\"event__rollup-btn\" type=\"button\">\n          <span class=\"visually-hidden\">Open event</span>\n        </button>\n      </header>\n\n      <section class=\"event__details\">\n        ${offersTemplate(offersList, offers)}\n        ${descriptionTemplate(destination, destinationList)}\n      </section>\n    </form>\n  </li>\n`;\n\nexport default class EditPointsView {\n  constructor(point, eventTypeList, destinationList, offerList) {\n    this.point = point;\n    this.eventTypeList = eventTypeList;\n    this.destinationList = destinationList;\n    this.offerList = offerList;\n  }\n\n  getTemplate = () => editPointTemplate(this.point, this.eventTypeList, this.destinationList, this.offerList);\n\n  getElement = () => {\n    if (!this.element) {\n      this.element = createElement(this.getTemplate());\n    }\n    return this.element;\n  };\n\n  removeElement = () => {\n    this.element = null;\n  };\n}\n","import {createElement} from '../render.js';\n\nconst filterItemTemplate = (name) => {\n  const nameLower = name.toLowerCase();\n  return `\n    <div class=\"trip-filters__filter\">\n      <input id=\"filter-${nameLower}\" class=\"trip-filters__filter-input  visually-hidden\" type=\"radio\" name=\"trip-filter\" value=\"${nameLower}\">\n      <label class=\"trip-filters__filter-label\" for=\"filter-${nameLower}\">${name}</label>\n    </div>\n  `;\n};\n\nconst filtersTemplate = (items) => `\n  <div class=\"trip-controls__filters\">\n    <h2 class=\"visually-hidden\">Filter events</h2>\n    <form class=\"trip-filters\" action=\"#\" method=\"get\">\n      ${items.map((item) => filterItemTemplate(item)).join('')}\n      <button class=\"visually-hidden\" type=\"submit\">Accept filter</button>\n    </form>\n  </div>\n`;\n\nexport default class FiltersView {\n  constructor(items) {\n    this.items = items;\n  }\n\n  getTemplate = () => filtersTemplate(this.items);\n\n  getElement = () => {\n    if (!this.element) {\n      this.element = createElement(this.getTemplate());\n    }\n    return this.element;\n  };\n\n  removeElement = () => {\n    this.element = null;\n  };\n}\n","import MainPresenter from './presenter/main-presenter.js';\n\nconst mainPresenter = new MainPresenter();\n\nmainPresenter.init();\n","import {render, RenderPosition} from '../render.js';\nimport {destinationItems, eventTypeItems, filterItems, offerItems, pointItems, sortItems} from '@model/data-model.js';\nimport {getTripInfo} from '@model/data-model.js';\nimport TripInfoView from '@view/trip-info-view.js';\nimport SortingView from '@view/sorting-view.js';\nimport PointView from '@view/point-view.js';\nimport EditPointsView from '@view/edit-point-view.js';\nimport FiltersView from '@view/filters-view.js';\n\nconst EDIT_POINT_INDEX = 1;\n\nexport default class MainPresenter {\n  constructor() {\n    this.tripMain = document.querySelector('.trip-main');\n    this.tripFilters = this.tripMain.querySelector('.trip-controls__filters');\n    this.tripPoints = document.createElement('ul');\n    this.tripPoints.classList.add('trip-events__list');\n    document.querySelector('.trip-events').append(this.tripPoints);\n  }\n\n  // Рендеринг информации о поезке\n  renderTripInfo = () => {\n    render(new TripInfoView(getTripInfo()), this.tripMain, RenderPosition.AFTERBEGIN);\n  };\n\n  // Рендеринг фильтров\n  renderFiltres = () => {\n    render(new FiltersView(filterItems), this.tripFilters);\n  };\n\n  // Рендеринг сортировки\n  renderSorting = () => {\n    render(new SortingView(sortItems), this.tripPoints, RenderPosition.AFTERBEGIN);\n  };\n\n  // Рендеринг формы редактирования данных о поездке\n  renderEditPoint = (item) => {\n    render(new EditPointsView(item, eventTypeItems, destinationItems, offerItems), this.tripPoints);\n  };\n\n  // Рендеринг событий поездки\n  renderPoints = () => {\n    pointItems.forEach((item, index) => {\n      if (index === EDIT_POINT_INDEX) {\n        this.renderEditPoint(item);\n      } else {\n        render(new PointView(item), this.tripPoints);\n      }\n    });\n  };\n\n  // Инициализация презентера\n  init = () => {\n    this.renderTripInfo();\n    this.renderFiltres();\n    this.renderSorting();\n    this.renderPoints();\n  };\n}\n\n\n"],"names":["RenderPosition","createElement","template","newElement","document","innerHTML","firstElementChild","render","component","container","place","insertAdjacentElement","getElement","filterItems","sortItems","eventTypeItems","destinationItems","name","description","offerItems","code","price","pointItems","eventType","destination","timeStart","timeEnd","offers","favorite","getDateTime","dateTime","dateTimeString","Date","toLocaleString","monthString","toLocaleDateString","month","toUpperCase","date","time","split","day","year","hours","minutes","seconds","getDateISOString","getDateTimeISOString","getMonthString","getDayString","getTimeString","getDateTimeString","slice","TripInfoView","constructor","points","dateTimeStart","dateTimeEnd","cost","startMonth","startDay","endMonth","endDay","this","tripInfo","trip","join","period","getTemplate","tripInfoTemplate","element","removeElement","SortingView","items","map","item","nameLower","toLowerCase","sortItemTemplate","PointView","point","pointTemplate","getMonthDayString","getDurationTimeString","timeDucation","timeDurationHours","toISOString","substring","offersItemTemplate","EditPointsView","eventTypeList","destinationList","offerList","editPointTemplate","offersList","eventTypeItemTemplate","offersTemplate","itemsChecked","checked","undefined","find","descriptionTemplate","FiltersView","filterItemTemplate","tripMain","querySelector","tripFilters","tripPoints","classList","add","append","renderTripInfo","Array","from","Set","length","reduce","sum","offer","renderFiltres","renderSorting","renderEditPoint","renderPoints","forEach","index","init"],"sourceRoot":""}