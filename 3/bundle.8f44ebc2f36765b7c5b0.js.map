{"version":3,"file":"bundle.8f44ebc2f36765b7c5b0.js","mappings":"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","sources":["webpack://big-trip/./src/render.js","webpack://big-trip/./src/model/data-model.js","webpack://big-trip/./src/utils/datetime.js","webpack://big-trip/./src/view/trip-info-view.js","webpack://big-trip/./src/view/sorting-view.js","webpack://big-trip/./src/view/point-view.js","webpack://big-trip/./src/view/edit-point-view.js","webpack://big-trip/./src/view/filters-view.js","webpack://big-trip/./src/main.js","webpack://big-trip/./src/presenter/main-presenter.js"],"sourcesContent":["const RenderPosition = {\n  BEFOREBEGIN: 'beforebegin',\n  AFTERBEGIN: 'afterbegin',\n  BEFOREEND: 'beforeend',\n  AFTEREND: 'afterend',\n};\n\nfunction createElement(template) {\n  const newElement = document.createElement('div');\n  newElement.innerHTML = template;\n\n  return newElement.firstElementChild;\n}\n\nfunction render(component, container, place = RenderPosition.BEFOREEND) {\n  container.insertAdjacentElement(place, component.getElement());\n}\n\nexport {RenderPosition, createElement, render};\n","const filterItems = ['Everything', 'Future', 'Present', 'Past'];\nconst sortItems = ['Day', 'Event', 'Time', 'Price', 'Offers'];\nconst eventTypeItems = ['Taxi', 'Bus', 'Train', 'Ship', 'Drive', 'Flight', 'Check-in', 'Sightseeing', 'Restaurant'];\nconst destinationItems = [\n  {name: 'Amsterdam', description: 'Geneva is a city in Switzerland that lies at the southern tip of expansive Lac Léman (Lake Geneva). Surrounded by the Alps and Jura mountains, the city has views of dramatic Mont Blanc.'},\n  {name: 'Geneva', description: ''},\n  {name: 'Chamonix', description: 'Chamonix-Mont-Blanc (usually shortened to Chamonix) is a resort area near the junction of France, Switzerland and Italy. At the base of Mont Blanc, the highest summit in the Alps, it\\'s renowned for its skiing.'}\n];\nconst offerItems = [\n  {code: 'luggage', name: 'Add luggage', price: 50},\n  {code: 'comfort', name: 'Switch to comfort', price: 80},\n  {code: 'meal', name: 'Add meal', price: 15},\n  {code: 'seats', name: 'Choose seats', price: 5},\n  {code: 'train', name: 'Travel by train', price: 40}\n];\n\nconst pointItems = [\n  {eventType: 'Taxi', destination: 'Amsterdam', timeStart: '2019-03-18T10:30', timeEnd: '2019-03-18T11:00', price: 20, offers: [{name: 'Order Uber', price:20}], favorite: true},\n  {eventType: 'Drive', destination: 'Chamonix', timeStart: '2019-03-18T14:30', timeEnd: '2019-03-18T16:05', price: 160, offers: [{name: 'Rent a car', price:200}], favorite: true},\n  {eventType: 'Flight', destination: 'Geneva', timeStart: '2019-03-19T18:00', timeEnd: '2019-03-19T19:00', price: 20, offers: [{name: 'Add luggage', price:30}, {name: 'Switch to comfort', price:100}], favorite: false},\n  {eventType: 'Sightseeing', destination: 'Geneva', timeStart: '2019-03-20T11:15', timeEnd: '2019-03-20T12:15', price: 180, offers: [], favorite: false}\n];\n\nconst getTripInfo = () => ({\n  points: Array.from(new Set(pointItems.map((item) => item.destination))),\n  dateTimeStart: pointItems[0].timeStart,\n  dateTimeEnd: pointItems[pointItems.length - 1].timeEnd,\n  cost: pointItems.reduce((cost, item) => cost + item.price + item.offers.reduce((sum, offer) => sum + offer.price, 0), 0)\n});\n\nexport {pointItems, filterItems, sortItems, eventTypeItems, destinationItems, offerItems};\nexport {getTripInfo};\n","const getDateISOString = (dateTime) => new Date(dateTime).toISOString().substring(0, 10);\nconst getDateTimeISOString = (dateTime) => new Date(dateTime).toISOString().substring(0, 16);\nconst getMonthDayString = (dateTime) => new Date(dateTime).toLocaleDateString('en-US', {month: 'short', day: '2-digit'}).toUpperCase();\nconst getMonthString = (dateTime) => new Date(dateTime).toLocaleDateString('en-US', {month: 'short'}).toUpperCase();\nconst getDayString = (dateTime) => new Date(dateTime).toLocaleDateString('en-US', {day: '2-digit'});\nconst getTimeString = (dateTime) => new Date(dateTime).toLocaleTimeString('en-US', {timeStyle: 'short', hourCycle: 'h24'});\nconst getDateTimeString = (dateTime) => new Date(dateTime).toLocaleString('en-GB', {day: '2-digit', month: '2-digit', year: '2-digit', hour: '2-digit', minute: '2-digit'}).replace(', ', ' ');\n\nconst getDurationTimeString = (timeStart, timeEnd) => {\n  if (getDateISOString(timeStart) !== getDateISOString(timeEnd)) {\n    throw 'Начало и окончание одного события должно быть в один день!';\n  }\n  const timeDucation = new Date(new Date(timeEnd) - new Date(timeStart));\n  const timeDurationHours = `${timeDucation.toISOString().substring(11, 13)}H `;\n  const timeDurationMinute = `${timeDucation.toISOString().substring(14, 16)}M`;\n  return `${timeDurationHours === '00H ' ? '' : timeDurationHours}${timeDurationMinute}`;\n};\n\nexport {getDateISOString, getDateTimeISOString, getMonthDayString, getMonthString, getDayString};\nexport {getTimeString, getDateTimeString, getDurationTimeString};\n\n","import {createElement} from '../render.js';\nimport {getDayString, getMonthString} from '@utils/datetime.js';\n\nconst tripInfoTemplate = ({trip, period, cost}) => `\n  <section class=\"trip-main__trip-info  trip-info\">\n    <div class=\"trip-info__main\">\n      <h1 class=\"trip-info__title\">${trip}</h1>\n      <p class=\"trip-info__dates\">${period}</p>\n    </div>\n    <p class=\"trip-info__cost\">\n      Total: &euro;&nbsp;<span class=\"trip-info__cost-value\">${cost}</span>\n    </p>\n  </section>`;\n\nexport default class TripInfoView {\n  constructor({points, dateTimeStart, dateTimeEnd, cost}) {\n    const startMonth = getMonthString(dateTimeStart);\n    const startDay = getDayString(dateTimeStart);\n    const endMonth = getMonthString(dateTimeEnd);\n    const endDay = getDayString(dateTimeEnd);\n    this.tripInfo = {\n      trip: points.join(' &mdash; '),\n      period: `${startDay}${startMonth === endMonth ? '' : `&nbsp;${startMonth}`}&nbsp;&mdash;&nbsp;${endDay}&nbsp;${endMonth}`,\n      cost: cost\n    };\n  }\n\n  getTemplate() {\n    return tripInfoTemplate(this.tripInfo);\n  }\n\n  getElement() {\n    if (!this.element) {\n      this.element = createElement(this.getTemplate());\n    }\n    return this.element;\n  }\n\n  removeElement() {\n    this.element = null;\n  }\n}\n","import {createElement} from '../render.js';\n\nconst sortItemTemplate = (name) => {\n  const nameLower = name.toLowerCase();\n  return `\n    <div class=\"trip-sort__item  trip-sort__item--${nameLower}\">\n      <input id=\"sort-${nameLower}\" class=\"trip-sort__input  visually-hidden\" type=\"radio\" name=\"trip-sort\" value=\"sort-${nameLower}\">\n      <label class=\"trip-sort__btn\" for=\"sort-${nameLower}\">${name}</label>\n    </div>\n  `;\n};\n\nconst sortingTemplate = (items) => `\n  <form class=\"trip-events__trip-sort  trip-sort\" action=\"#\" method=\"get\">\n    ${items.map((item) => sortItemTemplate(item)).join('')}\n  </form>\n`;\n\nexport default class SortingView {\n  constructor(items) {\n    this.items = items;\n  }\n\n  getTemplate() {\n    return sortingTemplate(this.items);\n  }\n\n  getElement() {\n    if (!this.element) {\n      this.element = createElement(this.getTemplate());\n    }\n    return this.element;\n  }\n\n  removeElement() {\n    this.element = null;\n  }\n}\n","import {createElement} from '../render.js';\nimport {getDateISOString, getDateTimeISOString, getDurationTimeString, getMonthDayString, getTimeString} from '@utils/datetime.js';\n\nconst offersItemTemplate = ({name, price}) => `\n  <li class=\"event__offer\">\n    <span class=\"event__offer-title\">${name}</span>\n    &plus;&euro;&nbsp;\n    <span class=\"event__offer-price\">${price}</span>\n  </li>\n`;\n\nconst offersTemplate = (items) => `\n  <h4 class=\"visually-hidden\">Offers:</h4>\n  <ul class=\"event__selected-offers\">\n    ${items.map((item) => offersItemTemplate(item)).join('')}\n  </ul>\n`;\nconst pointTemplate = ({eventType, destination, timeStart, timeEnd, price, offers, favorite}) => `\n  <li class=\"trip-events__item\">\n    <div class=\"event\">\n      <time class=\"event__date\" datetime=\"${getDateISOString(timeStart)}\">${getMonthDayString(timeStart)}</time>\n      <div class=\"event__type\">\n        <img class=\"event__type-icon\" width=\"42\" height=\"42\" src=\"img/icons/${eventType.toLowerCase()}.png\" alt=\"Event type icon\">\n      </div>\n      <h3 class=\"event__title\">${eventType} ${destination}</h3>\n      <div class=\"event__schedule\">\n        <p class=\"event__time\">\n          <time class=\"event__start-time\" datetime=\"${getDateTimeISOString(timeStart)}\">${getTimeString(timeStart)}</time>\n          &mdash;\n          <time class=\"event__end-time\" datetime=\"${getDateTimeISOString(timeEnd)}\">${getTimeString(timeEnd)}</time>\n        </p>\n        <p class=\"event__duration\">${getDurationTimeString(timeStart, timeEnd)}</p>\n      </div>\n      <p class=\"event__price\">\n        &euro;&nbsp;<span class=\"event__price-value\">${price}</span>\n      </p>\n      ${offersTemplate(offers)}\n      <button class=\"event__favorite-btn${favorite ? ' event__favorite-btn--active\"' : '\"'} type=\"button\">\n        <span class=\"visually-hidden\">Add to favorite</span>\n        <svg class=\"event__favorite-icon\" width=\"28\" height=\"28\" viewBox=\"0 0 28 28\">\n          <path d=\"M14 21l-8.22899 4.3262 1.57159-9.1631L.685209 9.67376 9.8855 8.33688 14 0l4.1145 8.33688 9.2003 1.33688-6.6574 6.48934 1.5716 9.1631L14 21z\"/>\n        </svg>\n      </button>\n      <button class=\"event__rollup-btn\" type=\"button\">\n        <span class=\"visually-hidden\">Open event</span>\n      </button>\n    </div>\n  </li>`;\n\nexport default class PointView {\n  constructor(point) {\n    this.point = point;\n  }\n\n  getTemplate() {\n    return pointTemplate(this.point);\n  }\n\n  getElement() {\n    if (!this.element) {\n      this.element = createElement(this.getTemplate());\n    }\n    return this.element;\n  }\n\n  removeElement() {\n    this.element = null;\n  }\n}\n","import {createElement} from '../render.js';\nimport {getDateTimeString} from '@utils/datetime.js';\n\nconst eventTypeItemTemplate = (name) => {\n  const nameLower = name.toLowerCase();\n  return `<div class=\"event__type-item\">\n    <input id=\"event-type-${nameLower}-1\" class=\"event__type-input  visually-hidden\" type=\"radio\" name=\"event-type\" value=\"${nameLower}\">\n    <label class=\"event__type-label  event__type-label--${nameLower}\" for=\"event-type-${nameLower}-1\">${name}</label>\n  </div>`;\n};\n\nconst eventTypeListTemplate = (items) => `\n  <div class=\"event__type-list\">\n    <fieldset class=\"event__type-group\">\n      <legend class=\"visually-hidden\">Event type</legend>\n        ${items.map((item) => eventTypeItemTemplate(item)).join('')}\n    </fieldset>\n  </div>\n`;\n\nconst offersItemTemplate = ({code, name, price}, checked) => `\n  <div class=\"event__offer-selector\">\n    <input class=\"event__offer-checkbox  visually-hidden\" id=\"event-offer-${code}-1\" type=\"checkbox\" name=\"event-offer-${code}\" ${checked ? 'checked' : ''}>\n    <label class=\"event__offer-label\" for=\"event-offer-${code}-1\">\n      <span class=\"event__offer-title\">${name}</span>\n      &plus;&euro;&nbsp;\n      <span class=\"event__offer-price\">${price}</span>\n    </label>\n  </div>\n`;\n\nconst offersTemplate = (items, itemsChecked) => `\n  <section class=\"event__section  event__section--offers\">\n    <h3 class=\"event__section-title  event__section-title--offers\">Offers</h3>\n    <div class=\"event__available-offers\">\n      ${items.map((item) => offersItemTemplate(item, itemsChecked.find((element) => element.name === item.name) !== undefined)).join('')}\n    </div>\n  </section>\n`;\n\nconst descriptionTemplate = (destination, destinationList) => {\n  const description = destinationList.find((element) => element.name === destination).description;\n  if (description) {\n    return `\n      <section class=\"event__section  event__section--destination\">\n        <h3 class=\"event__section-title  event__section-title--destination\">Destination</h3>\n        <p class=\"event__destination-description\">${description}</p>\n      </section>`;\n  }\n  return '';\n};\n\nconst editPointTemplate = ({eventType, destination, timeStart, timeEnd, price, offers}, eventTypeList, destinationList, offersList) => `\n  <li class=\"trip-events__item\">\n    <form class=\"event event--edit\" action=\"#\" method=\"post\">\n      <header class=\"event__header\">\n        <div class=\"event__type-wrapper\">\n          <label class=\"event__type  event__type-btn\" for=\"event-type-toggle-1\">\n            <span class=\"visually-hidden\">Choose event type</span>\n            <img class=\"event__type-icon\" width=\"17\" height=\"17\" src=\"img/icons/${eventType.toLowerCase()}.png\" alt=\"Event type icon\">\n          </label>\n          <input class=\"event__type-toggle  visually-hidden\" id=\"event-type-toggle-1\" type=\"checkbox\">\n          ${eventTypeListTemplate(eventTypeList)}\n        </div>\n\n        <div class=\"event__field-group  event__field-group--destination\">\n          <label class=\"event__label  event__type-output\" for=\"event-destination-1\">\n            ${eventType}\n          </label>\n          <input class=\"event__input  event__input--destination\" id=\"event-destination-1\" type=\"text\" name=\"event-destination\" value=\"${destination}\" list=\"destination-list-1\">\n          <datalist id=\"destination-list-1\">\n            ${destinationList.map((item) => `<option value=\"${item.name}\"></option>`).join('')}\n          </datalist>\n        </div>\n\n        <div class=\"event__field-group  event__field-group--time\">\n          <label class=\"visually-hidden\" for=\"event-start-time-1\">From</label>\n          <input class=\"event__input  event__input--time\" id=\"event-start-time-1\" type=\"text\" name=\"event-start-time\" value=\"${getDateTimeString(timeStart)}\">\n          &mdash;\n          <label class=\"visually-hidden\" for=\"event-end-time-1\">To</label>\n          <input class=\"event__input  event__input--time\" id=\"event-end-time-1\" type=\"text\" name=\"event-start-time\" value=\"${getDateTimeString(timeEnd)}\">\n        </div>\n\n        <div class=\"event__field-group  event__field-group--price\">\n          <label class=\"event__label\" for=\"event-price-1\">\n            <span class=\"visually-hidden\">Price</span>\n            &euro;\n          </label>\n          <input class=\"event__input  event__input--price\" id=\"event-price-1\" type=\"text\" name=\"event-price\" value=\"${price}\">\n        </div>\n\n        <button class=\"event__save-btn  btn  btn--blue\" type=\"submit\">Save</button>\n        <button class=\"event__reset-btn\" type=\"reset\">Delete</button>\n        <button class=\"event__rollup-btn\" type=\"button\">\n          <span class=\"visually-hidden\">Open event</span>\n        </button>\n      </header>\n\n      <section class=\"event__details\">\n        ${offersTemplate(offersList, offers)}\n        ${descriptionTemplate(destination, destinationList)}\n      </section>\n    </form>\n  </li>\n`;\n\nexport default class EditPointsView {\n  constructor(point, eventTypeList, destinationList, offerList) {\n    this.point = point;\n    this.eventTypeList = eventTypeList;\n    this.destinationList = destinationList;\n    this.offerList = offerList;\n  }\n\n  getTemplate() {\n    return editPointTemplate(this.point, this.eventTypeList, this.destinationList, this.offerList);\n  }\n\n  getElement() {\n    if (!this.element) {\n      this.element = createElement(this.getTemplate());\n    }\n    return this.element;\n  }\n\n  removeElement() {\n    this.element = null;\n  }\n}\n","import {createElement} from '../render.js';\n\nconst filterItemTemplate = (name) => {\n  const nameLower = name.toLowerCase();\n  return `\n    <div class=\"trip-filters__filter\">\n      <input id=\"filter-${nameLower}\" class=\"trip-filters__filter-input  visually-hidden\" type=\"radio\" name=\"trip-filter\" value=\"${nameLower}\">\n      <label class=\"trip-filters__filter-label\" for=\"filter-${nameLower}\">${name}</label>\n    </div>\n  `;\n};\n\nconst filtersTemplate = (items) => `\n  <div class=\"trip-controls__filters\">\n    <h2 class=\"visually-hidden\">Filter events</h2>\n    <form class=\"trip-filters\" action=\"#\" method=\"get\">\n      ${items.map((item) => filterItemTemplate(item)).join('')}\n      <button class=\"visually-hidden\" type=\"submit\">Accept filter</button>\n    </form>\n  </div>\n`;\n\nexport default class FiltersView {\n  constructor(items) {\n    this.items = items;\n  }\n\n  getTemplate() {\n    return filtersTemplate(this.items);\n  }\n\n  getElement() {\n    if (!this.element) {\n      this.element = createElement(this.getTemplate());\n    }\n    return this.element;\n  }\n\n  removeElement() {\n    this.element = null;\n  }\n}\n","import MainPresenter from './presenter/main-presenter.js';\n\nconst mainPresenter = new MainPresenter();\n\nmainPresenter.init();\n","import {render, RenderPosition} from '../render.js';\nimport {destinationItems, eventTypeItems, filterItems, offerItems, pointItems, sortItems} from '@model/data-model.js';\nimport {getTripInfo} from '@model/data-model.js';\nimport TripInfoView from '@view/trip-info-view.js';\nimport SortingView from '@view/sorting-view.js';\nimport PointView from '@view/point-view.js';\nimport EditPointsView from '@view/edit-point-view.js';\nimport FiltersView from '@view/filters-view.js';\n\nconst EDIT_POINT_INDEX = 1;\n\nexport default class MainPresenter {\n  constructor() {\n    this.tripMain = document.querySelector('.trip-main');\n    this.tripFilters = this.tripMain.querySelector('.trip-controls__filters');\n    this.tripPoints = document.createElement('ul');\n    this.tripPoints.classList.add('trip-events__list');\n    document.querySelector('.trip-events').append(this.tripPoints);\n  }\n\n  // Рендеринг информации о поезке\n  renderTripInfo() {\n    render(new TripInfoView(getTripInfo()), this.tripMain, RenderPosition.AFTERBEGIN);\n  }\n\n  // Рендеринг фильтров\n  renderFiltres() {\n    render(new FiltersView(filterItems), this.tripFilters);\n  }\n\n  // Рендеринг сортировки\n  renderSorting() {\n    render(new SortingView(sortItems), this.tripPoints, RenderPosition.AFTERBEGIN);\n  }\n\n  // Рендеринг формы редактирования данных о поездке\n  renderEditPoint (item) {\n    render(new EditPointsView(item, eventTypeItems, destinationItems, offerItems), this.tripPoints);\n  }\n\n  // Рендеринг событий поездки\n  renderPoints() {\n    pointItems.forEach((item, index) => {\n      if (index === EDIT_POINT_INDEX) {\n        this.renderEditPoint(item);\n      } else {\n        render(new PointView(item), this.tripPoints);\n      }\n    });\n  }\n\n  // Инициализация презентера\n  init() {\n    this.renderTripInfo();\n    this.renderFiltres();\n    this.renderSorting();\n    this.renderPoints();\n  }\n}\n\n\n"],"names":["RenderPosition","createElement","template","newElement","document","innerHTML","firstElementChild","render","component","container","place","insertAdjacentElement","getElement","filterItems","sortItems","eventTypeItems","destinationItems","name","description","offerItems","code","price","pointItems","eventType","destination","timeStart","timeEnd","offers","favorite","getDateISOString","dateTime","Date","toISOString","substring","getDateTimeISOString","getMonthString","toLocaleDateString","month","toUpperCase","getDayString","day","getTimeString","toLocaleTimeString","timeStyle","hourCycle","getDateTimeString","toLocaleString","year","hour","minute","replace","TripInfoView","constructor","points","dateTimeStart","dateTimeEnd","cost","startMonth","startDay","endMonth","endDay","this","tripInfo","trip","join","period","getTemplate","tripInfoTemplate","element","removeElement","SortingView","items","map","item","nameLower","toLowerCase","sortItemTemplate","PointView","point","pointTemplate","getDurationTimeString","timeDucation","timeDurationHours","offersItemTemplate","EditPointsView","eventTypeList","destinationList","offerList","editPointTemplate","offersList","eventTypeItemTemplate","offersTemplate","itemsChecked","checked","undefined","find","descriptionTemplate","FiltersView","filterItemTemplate","tripMain","querySelector","tripFilters","tripPoints","classList","add","append","renderTripInfo","Array","from","Set","length","reduce","sum","offer","renderFiltres","renderSorting","renderEditPoint","renderPoints","forEach","index","init"],"sourceRoot":""}